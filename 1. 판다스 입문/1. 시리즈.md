# 판다스 자료구조
##### 분석을  위해 다양한 소스로부터 수집하는 데이터는 형태나 속성이 매우 다양하다. 특히 서로 다른 형식을 갖는 여러 종류의 데이터를 컴퓨터가 이해할 수 있도록 동일한 형식을 갖는 구조로 통합해줄 필요가 있다.
##### &nbsp;
##### 판다스의 1차적인 목적은 서로 다른 여러 가지 유형의 데이터를 공통의 포맷으로 정리하는 것.
##### 이를 위해 판다스는 시리즈와 데이터 프레임이라는 구조화된 데이터 형식을 제공
##### 시리즈는 1차원 배열, 데이터프레임은 2차원 배열
### &nbsp;
### __2-1 시리즈__
##### &nbsp;
##### 시리즈는 데이터가 순차적으로 나열된 1차원 배열의 형태를 가짐.
##### 인덱스는 데이터값과 일대일 대응이 됨.
##### 인덱스는 데이터 값의 위치를 나타내는 이름표 역할
![시리즈](https://post-phinf.pstatic.net/MjAxOTA2MTlfMTA1/MDAxNTYwOTAyMjU5MjY4.O_lVqutdiKGIb_aOXlWXWbu7x871Ir53GxUfyHlsRuog.SyfDuQDzrQtc46hpVAuyCvuoo1J9eEr1z1HnLEnHJSMg.JPEG/mug_obj_201906190857392515.jpg?type=w1080)
##### &nbsp;
+ ##### 시리즈 만들기

![딕셔너리를 시리즈로 변환](https://media.vlpt.us/images/codingsarah/post/556a0cc3-f8c6-4583-938c-ef825454dfa7/image.png)
##### 딕셔너리와 시리즈의 구조가 비슷하기 때문에 딕셔너리를 시리즈로 변환하는 방법을 많이 사용.
##### 딕셔너리의 키(k)는 시리즈의 인덱스에 대응하고, 딕셔너리 각 키에 매칭되는 값(v)이 시리즈의 데이터 값으로 변환된다.
```python
# 딕셔너리 ➡️ 시리즈 변환
pandas.Series( 딕셔너리 )
```
##### 판다스 내장함수인 Series( ) 를 이용하고, 딕셔너리를 함수의 인자로 전달한다.

##### 딕셔너리를 시리즈로 변환
```python
>>> # pandas 불러오기
>>> import pandas as pd
>>> 
>>> # 딕셔너리 생성
>>> dict_data = {'a': 1, 'b' : 2, 'c': 3}
>>> 
>>> # 판다스 Series() 함수로 dictionary를 Series로 변환, 변수 sr에 저장
>>> sr = pd.Series(dict_data)
>>> 
>>> # sr의 자료형 출력
>>> print(type(sr))
<class 'pandas.core.series.Series'>

>>> # 변수 sr에 저장되어 있는 시리즈 객체를 출력
>>> print(sr)
a    1
b    2
c    3
dtype: int64
```
> ##### as pd의 뜻
> ##### import 명령을 사용해 판다스 라이브러리를 불러올때 `"import as pd"`라는 형식으로 입력했는데, "as pd"는 pandas 대신 pd라는 약칭으로 부르겠다는 뜻이다. 따라서 `pd.Seires( )`함수로 입력할 수 있었다. 만약 "as"명령어를 사용하지 않고 `"import pandas"` 처럼 풀네임으로 불러왔다면 `pandas.Seires( )`라고 입력해주어야한다. 
##### &nbsp;
+ ##### 인덱스 구조
##### 인덱스는 자기와 짝을 이루는 데이터 값의 순서와 주소를 저장한다.
##### 인덱스를 활용해서 데이터 값의 탐색, 정렬, 선택, 결합 등 데이터 조작을 쉽게 할 수 있다.
##### 인덱스에는 정수형 위치 인덱스와 인덱스 이름 또는 인덱스 라벨 과 같이 크게 두 가지 종류가 있다. 
##### &nbsp;
인덱스 구조 |&nbsp; |&nbsp; |&nbsp; |&nbsp; |&nbsp; 
--------------------|----|-----|-----|----|----
인덱스 이름(optional) | i0 | i1 | i2 | ... | in
&nbsp;               | ⬆️ |⬆️  |⬆️  |    |⬆️ 
데이터 값 (원소)      | v0 | v1  |v2  |...  |vn
&nbsp;               |⬇️  |⬇️  |⬇️  |     |⬇️
정수형 위치 인덱스(default)|0|1|2|...|n
##### &nbsp;
##### 시리즈 클래스의 index 속성을 이용하여 인덱스 배열을 따로 선택할 수 있다. 
```python
인덱스 배열 : Series객체.index
```
##### 데이터 값 배열만을 따로 선택할 수도 있다. 시리즈 클래스의 value 속성을 이용한다.
```python
데이터 값 배열 : Series객체.values
```
##### &nbsp;
##### 판다스 Series( )함수를 사용하여 파이썬 리스트를 시리즈로 변환할 수 있다. 단, 리스트를 시리즈로 변환할 때는 딕셔너리의 키처럼 인덱스로 변한될 값이 없기때문에 인덱스를 별도로 정의하지 않으면 디폴트로 정수형 위치 인덱스(0,1,2, ...)가 자동으로 지정된다.
##### 아래의 예를 보자.
```python
# 리스트를 시리즈로 변환

import pandas as pd

#리스트를 시리즈로 변환하여 변수 sr에 저장
list_data = ['2019-01-02', 3.14, 'ABC', 100, True]
sr = pd.Series(list_data)
print(sr)
```
```
# 실행결과
0    2019-01-02
1          3.14
2           ABC
3           100
4          True
dtype: object
```
##### 시리즈의 index 속성과 values 속성을 이용하면 인덱스 배열과 데이터 값의 배열을 불러오기
```python
# 인덱스 배열은 변수 idx에 저장, 데이터 값 배열은 변수 val에 저장
idx = sr.index
val = sr.values
print(idx)
print('\n\)
print(val)
```
``` 실행결과
RangeIndex(start=0, stop=5, step=1)

['2019-01-02' 3.14 'ABC' 100 True]
```
##### 위의 실행 결과에서 인덱스는 0~4 범위의 정수를 갖는 Rangeindex 객체로 표시된다. 데이터 값 배열은 원래 데이터인 list_data의 리스트 원소 배열의 순서를 유지한 상태로 입력된다.
##### &nbsp;
+ ##### 원소 선택
##### 원소의 위치를 나타내는 주소 역할을 하는 인덱스를 이용하여 시리즈의 원소를 선택할 수 있다.
##### 정수형 위치 인덱스는 대괄호([ ])안에 위치를 나타내는 숫자 입력
##### 인덱스 이름을 사용할 때는 대괄호([ ]) 안에 이름과 함께 따옴표 입력
##### &nbsp;
##### 튜플이나 리스트는 딕셔너리의 키에 해당하는 값이 없어서 시리즈로 변환할 때 정수형 위치 인덱스가 자동 지정된다. Series( )함수의 index 옵션에 인덱스 이름을 직접 전달해서 정수형 위치 인덱스 대신 인덱스 이름을 따로 지정할 수 있다. 
##### 아래 예제에서는 시리즈로 변환한 튜플의 데이터 개수와 순서에 맞춰 인덱스 이름을 리스트 형태로 전달하였다.
```python
import pandas as pd

# 튜플을 시리즈로 변환(인덱스 옵션 지정)
tup_data = ('영인', '2010-05-01', '여', True)
sr = pd.Series(tup_data, index = ['이름', '생년월일', '성별', '학생여부']) # index 옵션에 인덱스 이름을 리스트 형태로 
print(sr)
```
```
# 실행결과
이름              영인
생년월일    2010-05-01
성별               여
학생여부          True
dtype: object
```
##### index 옵션에 전달한 4개의 인덱스 이름이 표시되고, 오른쪽 데이터 값 위치에는 함수에 전달된 튜플의 원소 값들이 표시되었다. 시리즈를 구성하는 원소 데이터 값의 자료형은 문자열로 확인된다.
##### &nbsp;
```python
# 원소를 1개 선택
print(sr[0])        # sr의 1번째 원소를 선택(정수형 위치 인덱스)
print(sr['이름'])   # '이름' 라벨을 가진 원소를 선택(인덱스 이름)
```
```
# 실행결과
영인
영인
```
##### 여러 개의 인덱스를 리스트 형태로 대괄호([ ])안에 입력할 수 도 있다.
```python
# 여러 개의 원소를 선택(인덱스 리스트 활용)
print(sr[[1, 2]])
print('\n')
print(sr[['생년월일', '성별']])
```
```
# 실행 결과
생년월일    2010-05-01
성별               여
dtype: object

생년월일    2010-05-01
성별               여
dtype: object
```
##### 인덱스의 범위를 지정하여 선택할 수 있다. 정수형 위치 인덱스는 범위의 끝 범위가 포함되지 않지만 인덱스 이름을 사용하면 범위으 끝이 포함된다.
##### 정수형 위치 인덱스를 사용할 때 sr[1 : 2]라고 지정하면 범위의 끝 2가 포함되지 않는다. 그러나 sr['생년월일' : '성별']과 같이 인덱스 이름을 사용하면 범위의 끝('성별')이 포함된다.
```python
# 여러개의 원소를 선택(인덱스 범위 지정)
print(sr[1 : 2])
print('\n')
print(sr['생년월일' : '성별'])
```
```
# 실행결과
생년월일    2010-05-01
dtype: object

생년월일    2010-05-01
성별               여
dtype: object
```
